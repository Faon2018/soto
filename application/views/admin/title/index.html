<{extends 'public/base_admin.html'}>
<{block name=title}>标签管理<{/block}>
<{block name=static}>
<style>

</style>
<{/block}>
<{block name=body}>
<div id="table_data" style="width: 200px">
<button type="button" class="btn btn-default btn-lg" v-on:click="addNew()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Add
</button>
<form method="post" action="/admin/title/addNew/"  v-if="seen">

    <div class="form-group">
        <label for="exampleInputEmail1">Name of title</label>
        <input type="email" class="form-control col-lg-6" name="title" id="exampleInputEmail1" placeholder="Email">
    </div>

    <div class="form-group">
        <label >Level</label>
        <select  name="level" class="form-control">
            <option>Disabled select 1</option>
            <option>Disabled select 2</option>
            <option>Disabled select 3</option>
        </select>
    </div>
    <div class="input-group">
      <span class="input-group-addon">
        <input type="checkbox" aria-label="...">
      </span>
        <label >Parent</label>
        <span class="input-group-addon">@</span>
        <input type="text" class="form-control" aria-label="...">
    </div>

    <div class="form-group">
        <label >Url</label>
        <span class="input-group-addon">/module/controller/action/</span>
        <input type="file"  name="url">
    </div>


    <button type="submit" class="btn btn-default">Submit</button>
</form>
    <table-list v-bind:table_data="tableData"  v-bind:table_title="tableTitle"></table-list>
</div>
<{/block}>
<{block name=script}>
<script src="/node_modules/axios/dist/axios.js"></script>

<script type="text/javascript">
    // import axios from '/node_modules/axios';
    // Vue.prototype.$http = axios;
    Vue.component('table-list', {
        props: {
            table_data:Array,
            table_title:Array
        },
        template: `
            <table class="table table-hover">
            <tbody>
              <tr>
                <td v-for="title in table_title">{{title}}</td>
              </tr>
              <tr v-for="row in table_data">
                <td v-for="td in row">{{td}}</td>
              </tr>
              <tbody>
            </table>`,
    });
    var obj=new Vue({
        el:'#table_data',
        data: {
            seen: false,
            tableData: [
                {id: 1, name: 'a', url: 'as'},
                {id: 2, name: 'b', url: 'bs'},
                {id: 3, name: 'c', url: 'cs'},
            ],
            tableTitle: ['ID', '名称', 'url'],
        },
        methods:{
            addNew:function () {
                this.seen=!this.seen;
            }
        },
    });
</script>
<{/block}>
